webpackJsonp([1],{"1rAC":function(t,e){},"3iMT":function(t,e){},"6NBE":function(t,e){},"7fPO":function(t,e){},Kg8b:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAABMUlEQVQ4jZ3TsUscQRTH8Q/HcYiIhViIRbCwsLIwYCmWQcE+CBLFv8FOW7FJYyGxthWLFFYS0giKIGIhKBZiI0q00LsDkdNi38C6txL1Bz92Z96b77ydeQtTuEQ93Cy4XuILjAmd4fkT3oMqerARoPfqK4bS4A7fPrAY5tKG1UKghidUSmLQwmN+olJIOMEMfmg/zCb+FNdWg5o0iesIHpRU0ChOpDJTJd+xHePpEsA5fuIUa3lAUjc6AtBbAriN5y4e0uQ/TMR7H7rCX0qcNlyW9cIC3OQA57IDnNfeOL9kt7Qk64EzWQe/AvShM9xfcA2bAfsbkOEi4C3VsJWrpo5R8U1XmMVAycIW1rGYizdk172fkkawg0MchY/DvyNnVfbP3GP8P9W2aTDgK7HZK70AT15bj7DrmLgAAAAASUVORK5CYII="},NHnr:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n("7+uW"),i=n("Dd8w"),s=n.n(i),l=n("NYxO");o.a.use(l.a);var d={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("li",[o("div",{staticClass:"viewing"},[o("div",{staticClass:"title"},[t._v(t._s(t.todo.title))]),t._v(" "),o("div",{staticClass:"project"},[t._v(t._s(t.todo.project))]),t._v(" "),o("div",[o("img",{attrs:{src:n("Kg8b"),alt:"no img"},on:{click:t.edit}}),t._v(" "),o("img",{attrs:{src:n("qoAF"),alt:"no img"},on:{click:t.deleteTodo}})]),t._v(" "),o("button",{class:[t.todo.done?"completed":"pending"],on:{click:t.complete}},[t._v("\n    \t\t\t"+t._s(t.todo.done?"completed":"pending")+"\n    \t\t")])])])},staticRenderFns:[]},c=n("VU/8")({props:["todoIndex"],computed:{todo:function(){return this.$store.state.todos[this.todoIndex]}},methods:{edit:function(){this.$store.commit({type:"change",change:{index:this.todoIndex,changes:{editing:!0}}})},complete:function(){this.$store.commit({type:"change",change:{index:this.todoIndex,changes:{done:!this.todo.done}}}),this.todo.done&&this.$emit("todoDone")},deleteTodo:function(){this.$emit("showDelete",this.todoIndex)}}},d,!1,null,null,null).exports,a={props:["initVal","labelName"],data:function(){return{timeout:0}},methods:{change:function(t){var e=this;clearTimeout(this.timeout),this.timeout=setTimeout(function(n){n.$emit("change",{key:e.labelName,value:t})},300,this)}}},r={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("label",{attrs:{for:t.labelName}},[t._t("labelName")],2),t._v(" "),n("input",{attrs:{type:"text",id:t.labelName},domProps:{value:t.initVal},on:{input:function(e){t.change(e.target.value)}}})])},staticRenderFns:[]},u=n("VU/8")(a,r,!1,null,null,null).exports;o.a.use(l.a);var h={render:function(){var t=this.$createElement;return(this._self._c||t)("button",{on:{click:this.closeSave}},[this._t("close",[this._v("Close and Save")])],2)},staticRenderFns:[]},p=n("VU/8")({methods:{closeSave:function(){this.$emit("closeAndSave")}}},h,!1,null,null,null).exports,m={props:["todoIndex"],components:{closesaveBtn:p,myInput:u},data:function(){return{title:this.$store.state.todos[this.todoIndex].title,project:this.$store.state.todos[this.todoIndex].project}},methods:{changeBuffer:function(t){this[t.key]=t.value},closeAndSave:function(){this.$store.commit({type:"change",changes:{index:this.todoIndex,changes:{editing:!1,inited:!0,title:this.titleBuffer,project:this.projectBuffer}}})}}},v={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("li",[n("div",{staticClass:"editing",on:{change:t.changeBuffer}},[n("my-input",{attrs:{labelName:"title",initVal:t.title}},[n("span",{attrs:{slot:"labelName"},slot:"labelName"},[t._v("Title")])]),t._v(" "),n("my-input",{attrs:{labelName:"project",initVal:t.project}},[n("span",{attrs:{slot:"labelName"},slot:"labelName"},[t._v("Project")])]),t._v(" "),n("closesaveBtn",{on:{closeAndSave:t.closeAndSave}})],1)])},staticRenderFns:[]};n("VU/8")(m,v,!1,null,null,null).exports;o.a.use(l.a);var f={props:["todoIndex"],components:{closesaveBtn:p,myInput:u},data:function(){return{todo:this.$store.state.todos[this.todoIndex],title:null,project:null}},mounted:function(){this.title=this.todo.title,this.project=this.todo.project},computed:{notInited:function(){return this.todo.inited}},methods:{changeBuffer:function(t){this[t.key]=t.value},cancel:function(){this.$store.commit("deleteIt",this.todoIndex)},closeAndSave:function(){this.$store.commit({type:"change",change:{index:this.todoIndex,changes:{editing:!1,inited:!0,title:this.title,project:this.project}}})}}},g={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("li",[n("div",{staticClass:"create"},[n("my-input",{attrs:{labelName:"title",initVal:t.title},on:{change:t.changeBuffer}},[n("span",{attrs:{slot:"labelName"},slot:"labelName"},[t._v("Title")])]),t._v(" "),n("my-input",{attrs:{labelName:"project",initVal:t.project},on:{change:t.changeBuffer}},[n("span",{attrs:{slot:"labelName"},slot:"labelName"},[t._v("Project")])]),t._v(" "),n("div",[n("closesaveBtn",{on:{closeAndSave:t.closeAndSave}},[n("span",{attrs:{slot:"close"},slot:"close"},[t._v("Save")])]),t._v(" "),t.notInited?t._e():n("button",{on:{click:t.cancel}},[t._v("Cancel")])],1)],1)])},staticRenderFns:[]},A=n("VU/8")(f,g,!1,null,null,null).exports;o.a.use(l.a);var _={props:[],components:{todo:c,create:A},computed:s()({},Object(l.b)(["completed_count","pending_count","getTodos"])),methods:{addNew:function(){this.$store.commit("addNew")},showDelete:function(t){this.$emit("showDelete",t)},todoDone:function(){this.$emit("todoDone")}}},b={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("p",{staticClass:"statistic"},[t._v("\n\t\t\tCompleted:\n\t\t\t"+t._s(t.completed_count)+"\n\t\t")]),t._v(" "),n("p",{staticClass:"statistic"},[t._v("\n\t\t\tPending:\n\t\t\t"+t._s(t.pending_count)+"\n\t\t")]),t._v(" "),n("div",{attrs:{id:"addNew",title:"Add a new todo"},on:{click:t.addNew}},[t._v("+")]),t._v(" "),n("transition-group",{attrs:{name:"swicthEdit",tag:"ul"}},t._l(t.getTodos,function(e,o){return n(!e.editing&&e.inited?"todo":"create",{key:o,tag:"span",attrs:{todoIndex:o},on:{showDelete:t.showDelete,todoDone:t.todoDone}})}))],1)},staticRenderFns:[]},I=n("VU/8")(_,b,!1,null,null,null).exports,w={props:{},methods:{},mounted:function(){document.body.style.overflow="hidden"},destroyed:function(){document.body.style={}}},x={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"popWindow"},[n("div",{staticClass:"circle"},[t._t("innerImg")],2),t._v(" "),n("header",[t._t("title",[t._v("default")])],2),t._v(" "),n("main",[t._t("content",[t._v("default content")])],2),t._v(" "),n("footer",[t._t("buttons")],2)])},staticRenderFns:[]},C=n("VU/8")(w,x,!1,null,null,null).exports;o.a.use(l.a);var N=new l.a.Store({state:{todos:[{title:"todo A",project:"编译原理作业",done:!1,editing:!1,inited:!0},{title:"todo B",project:"系统结构实验",done:!1,editing:!1,inited:!0},{title:"todo C",project:"project C",done:!1,editing:!1,inited:!0},{title:"todo D",project:"project D",done:!1,editing:!1,inited:!0}]},mutations:{deleteIt:function(t,e){t.todos.splice(e,1)},change:function(t,e){var n=e.change,o=n.index,i=n.changes;for(var s in i)t.todos[o][s]=i[s];console.log(t.todos[o])},addNew:function(t){t.todos.unshift(new function(t,e){this.title=t,this.project=e,this.done=!1,this.editing=!1,this.inited=!1}("",""))}},getters:{getTodos:function(t){return[].concat(t.todos)},pending_count:function(t){return t.todos.reduce(function(t,e){return e.done||(t+=1),t},0)},completed_count:function(t){return t.todos.reduce(function(t,e){return e.done&&(t+=1),t},0)}}});o.a.use(l.a);var j={name:"app",store:N,components:{todoList:I,popWindow:C},data:function(){return{deleteAlert:!1,currentIndex:-1,done:!1}},methods:{showDelete:function(t){this.deleteAlert=!0,this.currentIndex=t},deleteTodo:function(){this.$store.commit("deleteIt",this.todoIndex),this.currentIndex=-1,this.deleteAlert=!1}},mounted:function(){}};window.onload=function(){document.getElementById("cover").style.height=(document.documentElement.offsetHeight||document.body.offsetHeight)+"px"};var y={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{directives:[{name:"show",rawName:"v-show",value:t.deleteAlert||t.done,expression:"deleteAlert||done"}],attrs:{id:"cover"}}),t._v(" "),n("transition",{attrs:{name:"pop"}},[t.deleteAlert?n("pop-window",{staticClass:"deleteWindow"},[n("div",{attrs:{slot:"innerImg"},slot:"innerImg"},[n("div",{staticClass:"gang"}),t._v(" "),n("div",{staticClass:"dot"})]),t._v(" "),n("div",{attrs:{slot:"title"},slot:"title"},[t._v("Are you sure?")]),t._v(" "),n("div",{attrs:{slot:"content"},slot:"content"},[t._v("This To-Do will be permanently deleted!")]),t._v(" "),n("div",{attrs:{slot:"buttons"},slot:"buttons"},[n("button",{on:{click:function(e){t.deleteAlert=!1}}},[t._v("Cancel")]),t._v(" "),n("button",{on:{click:t.deleteTodo}},[t._v("Yes, delete it!")])])]):t._e()],1),t._v(" "),n("transition",{attrs:{name:"pop"}},[t.done?n("pop-window",{staticClass:"SuccessWindow"},[n("div",{staticClass:"check",attrs:{slot:"innerImg"},slot:"innerImg"}),t._v(" "),n("div",{attrs:{slot:"title"},slot:"title"},[t._v("Success!")]),t._v(" "),n("div",{attrs:{slot:"content"},slot:"content"},[t._v("To-Do completed!")]),t._v(" "),n("div",{attrs:{slot:"buttons"},slot:"buttons"},[n("button",{on:{click:function(e){t.done=!1}}},[t._v("OK")])])]):t._e()],1),t._v(" "),n("todo-list",{on:{showDelete:t.showDelete,todoDone:function(e){t.done=!0}}})],1)},staticRenderFns:[]},E=n("VU/8")(j,y,!1,null,null,null).exports;n("pyoj"),n("1rAC"),n("gbFP"),n("7fPO"),n("3iMT"),n("6NBE"),new o.a({el:"#app",template:"<App/>",components:{App:E}})},gbFP:function(t,e){},pyoj:function(t,e){},qoAF:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAA90lEQVQ4ja3TvS5EURQF4M/NRCaRyBRCohCFQqGmUapEohEP4g1UE1N4EVEJCpXCE3gA0ZCIQuLfcClmX05uzpDBTnZ2zjprr7POH/lYwhkeI8+xnCMOZbAClzjATmCrWMcEXlJyI6kbGEET4yixEPMlWmjjLlxtp2IreB8w11Ine3hGF7c/ZDe4R/W9b+Iwcyb12MVWNSiSibeoTZxiJkTbmApstNbzeYhpFJgLocmow4FV/DLn4Ffx7wIDC6YNZV/WN4v82UH9Fgq8ooNrvXfRwE1gT8HJ3sIDprGIfb13cIULzAY2H/h9zk0Lx76+cL88wVjV9AF7Xkfji+vF6AAAAABJRU5ErkJggg=="}},["NHnr"]);
//# sourceMappingURL=app.4e39ed6e7a38947b6ea0.js.map